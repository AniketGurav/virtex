RANDOM_SEED: 0
FP16_OPT: 2

DATA:
  TRAIN_LMDB: datasets/serialized/coco_train2017.lmdb
  VAL_LMDB: datasets/serialized/coco_val2017.lmdb

  TOKENIZER_VOCAB: "datasets/vocab/coco_10k.vocab"
  TOKENIZER_MODEL: "datasets/vocab/coco_10k.model"

  IMAGE_CROP_SIZE: 224
  MAX_CAPTION_LENGTH: 30

  USE_PERCENTAGE: 100.0
  USE_SINGLE_CAPTION: False

MODEL:
  NAME: bicaptioning
  VISUAL:
    NAME: torchvision::resnet50
    PRETRAINED: false
  TEXTUAL:
    NAME: allfuse_prenorm::L1_H512_A8_F2048
    HIDDEN_SIZE: 512
    ATTENTION_HEADS: 8
    FEEDFORWARD_SIZE: 2048
    NUM_LAYERS: 1
  DROPOUT: 0.1

OPTIM:
  NUM_ITERATIONS: 500000
  OPTIMIZER_NAME: sgd
  SGD_MOMENTUM: 0.9
  USE_LOOKAHEAD: True

  BATCH_SIZE: 256
  WEIGHT_DECAY: 1e-4
  LR: 0.001
  CNN_LR: 0.2
  LR_DECAY_NAME: cosine
  WARMUP_STEPS: 10000
  CLIP_GRAD_NORM: 10

DOWNSTREAM:
  VOC07_CLF:
    DATA_ROOT: datasets/VOC2007
    BATCH_SIZE: 64
    LAYER_NAMES: ["layer4"]
    SVM_COSTS: [0.01, 0.1, 1.0, 10.0]
